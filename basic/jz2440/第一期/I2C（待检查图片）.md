# I2C

写： start、设备地址、方向(0)→回应→数据→回应→数据→回应→p结束
读： start、设备地址、方向(1)→回应→数据→回应→数据→回应→p结束

白色：主→从

![I2C%205781bc5d8a73444a936e65809f8883bf/Untitled.png](I2C%205781bc5d8a73444a936e65809f8883bf/Untitled.png)

start信号：SCL保持高电平，SDA从高变低

结束信号：SCL保持高电平，SDA从低变高

设备地址：7位，

数据：8位

方向：逐8位传输，先最高位msb、用9个clock传八位数据

第九个时钟是回应

SCL低电平：SDA可变化

SCL高电平：SDA不变

SDA如何实现双向传输：

1、主设备发送时。从设备不发，可通过scl区分

2、主设备发送时，从设备的发送引脚不影响数据

3、不想影响SDA，不驱动三极管

4、想输出高电平，不驱动

5、想输出低电平，驱动

主→(8位)从：
1、前8个clock，
     1）从设备不影响我，不驱动三极管
     2）主设备决定数据
2、第九个clock，由从设备决定数据
     1）主设备不驱动三极管，SDA高电平
     2）从设备决定数据，（1）SDA低电平有ACK（2）反之无

3、I2C规定如何传输协议
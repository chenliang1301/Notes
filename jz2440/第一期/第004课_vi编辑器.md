# 第004课_vi编辑器

vi编辑器的使用

### 一个编辑器具备的功能

```
1）打开文件、新建文件、保存文件
2）光标的移动
3）文本 编辑
4)（多行|多列间）复制、粘贴、删除
5）查找和替换
```

### vimrc的配置

```
cd /etc/vim
cp vimrc ~/.vimrc
cd ~
gedit .vimrc
在vimrc中添加如下内容：
set nu

    "关闭兼容功能
    set nocompatible 
    "显示行号
    set number
    "编辑时 backspace 键设置为2个空格
    set backspace=2
    "编辑时 tab 键设置为4个空格
    set tabstop=4
    "设置自动对齐为4个空格
    set shiftwidth=4
    "搜索时不区分大小写
    set ignorecase
    "搜索时高亮显示
    set hlsearch
```

### vim编辑器有三种模式

```
1）一般模式（光标移动、复制、粘贴、删除）
2）编辑模式（编辑文本）
3）命令模式（查找和替换）

注意：
1）当不知道处于何种模式时，按 ESC键回到一般模式。
2）wq(write quit)
3)1(insert)
```

### 文件的打开文件、新建文件、保存文件

```
1.打开文件、新建文件、保存文件。
    vi 文件名
    如果文件存在，输入结束后，:wq保存并退出文件
    如果文件不存在，输入结束后，:wq新建并保存文件
在编辑完成时，返回一般模式：
    1）输入:w则保存文件，如果已经保存文件，输入:q则退出文件
    2）直接输入:wq保存并退出
    3）如果不想保存被修改的内容，则:q!强制退出。
    
2.进入编辑模式
    i(在光标前插入文本)
    a(在光标后插入文本)
    o(在当前行之下新开一行，并到行首)
```

### 如何使用vi快速移动光标

```
3.光标移动
   1） 在一般模式下，hjkl这四个键就可以移动光标
        h（左）
        j（下）
        k（上）
        l（右）
        
    2）快速定位到某一行，
    文件头、文件尾、指定某一行
        ngg光标移至第n行的行首（n为数字），
            如1gg跳到第一行行首，就是文件头
            如2gg跳到第二行行首，
        G转至文件结尾
        注意：ngg和G在一般模式
        
    3）在某一行快速定位到某一列
        0（数字零）光标移至当前行行首
        $光标移至当前行行末
        fx搜索当前行中下一个出现子母x的地方
        注意：0、$和fx是在一般模式下
        
    4）vi的难点
        （1）vi操作之前，先判断一下当前是那一种模式，在看光标所在位置。
        当你不知道处于何种模式时，使用esc键返回到一般模式。
        再去看光标，难点就在于移动光标，可以做到快速移动光标到某一行某一列。
```

### 文本复制_粘贴_删除_撤销_独家记忆方法

```
4.文本复制、粘贴、删除、撤销
    1）yy复制当前行（y:yank(复制)
        nyy复制当前行及其后面的n-1行
     
     2）使用p键来粘贴（p：paste（粘贴））
     
     3）dd删除光标所在行（d：delete（删除））
        ndd删除当前行及其后面的n-1行
        
    4）按u键来撤销上一步操作
    
    5）x删除光标所在位置字符
    
    注意：yy、nyy、dd、ndd、u、x在一般模式下
```

### 文本查找和替换

```
5.查找和替换
    /pattern 从光标开始处向文件尾搜索pattren，然后按下n或N
    注意：
        n在同一个方向重复上一次搜索命令
        N在反方向重复上一次搜索命令
        n(N)来源于单词next，下一个
    
    注意：
        （在/pattern之前先跳到第一行则进行全文搜索）
        
    :%s/p1/p2/g将文件中所有的p1均用p2替换
    :%s/p1/p2/gc替换时需要确认
    
    s：substitute替换
    g：global全局
    c：confirm确认
```